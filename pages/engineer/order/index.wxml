<!--pages/engineer/index.wxml-->
<view class="container">
  <!-- ä»Šæ—¥å·¥ä½œå®‰æ’ -->
  <view class="section">
    <view class="section-title">
      <text class="icon">ğŸ“…</text>
      <text>ä»Šæ—¥å·¥ä½œå®‰æ’</text>
      <text class="count">2ä¸ªå·¥å•</text>
    </view>

    <view class="order-list">
      <view class="order-item" wx:for="{{todayOrders}}" wx:key="id">
        <view class="order-header">
          <view class="order-no">
            <text>{{item.orderNo}}</text>
            <text class="time">é¢„çº¦ï¼š{{item.appointTime}}</text>
          </view>
          <text class="status {{item.status === 'pending' ? 'pending' : 'processing'}}">
            {{item.statusText}}
          </text>
        </view>

        <view class="order-info">
          <view class="info-row">
            <text class="label">å®¢æˆ·ï¼š</text>
            <text>{{item.customer}}</text>
          </view>
          <view class="info-row">
            <text class="label">è®¾å¤‡ï¼š</text>
            <text>{{item.equipment}}</text>
          </view>
          <view class="info-row">
            <text class="label">æ•…éšœï¼š</text>
            <text>{{item.issue}}</text>
          </view>
          <view class="info-row">
            <text class="label">åœ°ç‚¹ï¼š</text>
            <text>{{item.location}}</text>
            <text class="copy-btn" catchtap="copyLocation" data-location="{{item.location}}">å¤åˆ¶</text>
          </view>
        </view>

        <view class="order-footer">
          <button class="contact-btn" bindtap="makeCall" data-phone="{{item.phone}}">è”ç³»å®¢æˆ·</button>
          <button class="action-btn" bindtap="startOrder" data-id="{{item.id}}" wx:if="{{item.status === 'pending'}}">
            å¼€å§‹å¤„ç†
          </button>
        </view>
      </view>
    </view>
  </view>

  <!-- å¾…åŠå·¥å• -->
  <view class="section">
    <view class="section-title">
      <text class="icon">ğŸ“</text>
      <text>å¾…åŠå·¥å•</text>
      <text class="count">2ä¸ªå·¥å•</text>
    </view>

    <view class="order-list">
      <view class="order-item" wx:for="{{pendingOrders}}" wx:key="id">
        <view class="order-header">
          <text class="order-no">{{item.orderNo}}</text>
          <text class="status pending">å¾…å¤„ç†</text>
        </view>

        <view class="order-info">
          <view class="info-row">
            <text class="label">å®¢æˆ·ï¼š</text>
            <text>{{item.customer}}</text>
          </view>
          <view class="info-row">
            <text class="label">è®¾å¤‡ï¼š</text>
            <text>{{item.equipment}}</text>
          </view>
          <view class="info-row">
            <text class="label">æ•…éšœï¼š</text>
            <text>{{item.issue}}</text>
          </view>
          <view class="info-row">
            <text class="label">åœ°ç‚¹ï¼š</text>
            <text>{{item.location}}</text>
            <text class="copy-btn" catchtap="copyLocation" data-location="{{item.location}}">å¤åˆ¶</text>
          </view>
        </view>

        <view class="order-footer">
          <button class="contact-btn" bindtap="makeCall" data-phone="{{item.phone}}">è”ç³»å®¢æˆ·</button>
          <button class="action-btn" bindtap="startOrder" data-id="{{item.id}}">å¼€å§‹å¤„ç†</button>
        </view>
      </view>
    </view>
  </view>
</view>